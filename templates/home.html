{% extends 'base.html' %}
{% load i18n %}
{% load tagging_tags %}
{% block content %}
    <div ng-controller="PublicationController as ctrl">
        <div class="col-md-2" ng-cloak ng-show="!ctrl.viewProfile">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title">{% trans 'Categories' %}</h3>
                </div>
                <div class="list-group">
                    {% for category in categories %}
                        <a href="#{{ category.name }}" ng-click="ctrl.setFilter({{ category.id }})"
                           class="list-group-item">{% trans category.name %}</a>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="col-md-3" ng-show="ctrl.viewProfile">
            {% verbatim %}
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h2 class="text-center">@{{ ctrl.userProfile.profile.username }}</h2>
                </div>
                <div class="panel-body list-group">
                    <img id="photo" class="img-responsive img-thumbnail" src="{{ ctrl.userProfile.profile.photo }}">
                    <div class="list-group-item">
                        <label class="label label-info">email:</label>
                        <span class="pull-right">{{ ctrl.userProfile.profile.email }}</span>
                    </div>
                    {% endverbatim %}
                    <div class="list-group-item">
                        <label class="label label-info">{% trans 'gender'%}:</label>
                         <span class="pull-right">{% verbatim %}{{ ctrl.userProfile.profile.gender }}{% endverbatim %}</span>
                    </div>
                    <div class="list-group-item">
                        <label class="label label-info">{% trans 'location' %}:</label>
                         <span class="pull-right">{% verbatim %}{{ ctrl.userProfile.profile.location }}{% endverbatim %}</span>
                    </div>
                </div>
                {#                <p class="list-group-item" {{ ctrl.userProfile.profile.home }}</p>#}
            </div>
        </div>


        <div class="col-md-9 pull-right" ng-repeat="publication in ctrl.publications track by $index">
            {% verbatim %}
            <div class="panel panel-success">

                <div class="panel-heading">
                    <h3 class="panel-title"><a href="#$">{{ publication.header }}</a></h3>
                </div>

                <div class="panel-body">
                    <div class="well">
                        {{ publication.description }}
                    </div>

                    <ul class="breadcrumb">
                        <li>{{publication.category }}</li>
                        <li><span class="label label-success"><a href="#"
                                                                 ng-click="ctrl.setFilter(0,publication.username)">{{
                            publication.username }}</a></span></li>
                        <li class="active">{{publication.created_at | date:'medium'}}</li>
                        <li><span class="badge"><span
                                ng-show="publication.rate > 0">+</span>{{ publication.rate }}</span></li>
                    </ul>
                </div>
            </div>
            <ul class="tags ">
                <li ng-repeat="tag in publication.tag"><a href="#">{{ tag }}</a></li>
            </ul>

            {% endverbatim %}
        </div>
    </div>

{% endblock %}

